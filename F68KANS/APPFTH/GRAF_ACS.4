\
\	Graphical interface 
\	using ACS plotter window
\
\	JPS, 26jul93
\

GET-CURRENT local-wordlist SET-CURRENT



: OPEN-GRAPHICS ( wantx wanty -- xmax ymax #colors )
	_w_plotsize
	_w_getMFDB
	CELL+ DUP 	w@	SWAP 
	2 + DUP		w@	SWAP
	6 + 		w@ 	1 SWAP 1- LSHIFT
;



: UPDATE-GRAPHICS ( -- )
	_w_update
;

: CLEAR-GRAPHICS ( -- )
	_w_clr 
;


: CLOSE-GRAPHICS ( -- )
; IMMEDIATE



: SET-PIXEL ( x y -- )
	2DUP _w_draw
;


: DRAW-LINE ( x1 y1 x2 y2 -- )
	_w_draw
;


CREATE pxy 5 CELLS ALLOT

\			x		y
\	-------------------
\	lo: 	0		2
\	lu:		4		6
\	ru:		8		10
\	ro:		12		14
\	lo':	16		18
\
: DRAW-BOX ( x1 y1 x2 y2 -- )
	DUP		pxy	6 + 	w!
			pxy 10 +	w!
	DUP		pxy 8 + 	w!
			pxy 12 +	w!	
	DUP		pxy	2 +		w!
	DUP		pxy 14 +	w!
			pxy 18 +	w!
	DUP		pxy			w!
	DUP		pxy	16 +	w!
			pxy 4 +		w!
	5 pxy _w_pline
;


: DRAW-CIRCLE ( x y rad -- )
	_w_circle
;


SET-CURRENT ( restore )






 